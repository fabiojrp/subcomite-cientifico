var stateData = null;
var regionData = { "type": "FeatureCollection", "features": [
	{
		"type":"Feature",
		"properties":{
			"name": "Foz do Rio Itajai", 
			"rt": 1.21, 
			"media_movel": 32.98, 
			"ocupacao_leitos": 100,
			"center" : [-26.92700944399338, -48.72234551257507],
         	"zoom" : 10
		},
		"geometry":{
			"type":"Polygon",
			"coordinates":[
				[
					[-48.97499084472656,-26.725833489804646],[-48.977909088134766,-26.73441922979735],[-48.98872375488281,-26.736718871555837],[-48.99370193481445,-26.74392411463977],[-48.99833679199219,-26.747449918285657],[-49.0129280090332,-26.74561038219901],[-49.014129638671875,-26.763084773119584],[-49.0264892578125,-26.764004403473077],[-49.03472900390625,-26.772893779729205],[-49.02151107788085,-26.787452461716416],[-49.014129638671875,-26.788984845939233],[-49.005718231201165,-26.782855184902544],[-49.00211334228515,-26.783927899481238],[-48.9990234375,-26.78714598238885],[-49.00074005126953,-26.792356018391533],[-49.00056838989258,-26.802315715479356],[-48.995418548583984,-26.806452563350256],[-48.98632049560546,-26.80691220379828],[-48.988380432128906,-26.813806586926695],[-48.97808074951172,-26.820087770963504],[-48.98426055908203,-26.824223970347635],[-48.968467712402344,-26.83663166253549],[-48.95507812499999,-26.83464039609067],[-48.94563674926758,-26.841379925837156],[-48.93550872802734,-26.841992590469264],[-48.92486572265625,-26.85776756279604],[-48.9137077331543,-26.863740036636187],[-48.91061782836914,-26.8689465514191],[-48.91096115112305,-26.8730809659384],[-48.90134811401367,-26.87675587415678],[-48.891048431396484,-26.89130121347706],[-48.886756896972656,-26.893903866183123],[-48.88263702392578,-26.892372901264643],[-48.87062072753906,-26.896353366896424],[-48.86547088623046,-26.901558379538667],[-48.865127563476555,-26.908600073621816],[-48.84607315063476,-26.905997759576103],[-48.84607315063476,-26.909059299285616],[-48.851051330566406,-26.91028389192298],[-48.8532829284668,-26.91548826242375],[-48.843326568603516,-26.96461181009004],[-48.85517120361328,-26.990618722964722],[-48.86650085449219,-27.003619925535773],[-48.86924743652343,-27.011419925555597],[-48.85517120361328,-27.0247245586489],[-48.85568618774414,-27.03084110261074],[-48.86529922485351,-27.032676000841914],[-48.864784240722656,-27.038180515633105],[-48.86341094970703,-27.04276740513357],[-48.856201171875,-27.045825227335047],[-48.844871520996094,-27.067227649613965],[-48.837318420410156,-27.073647579909533],[-48.82392883300781,-27.073494728698876],[-48.80779266357422,-27.08984862607628],[-48.790626525878906,-27.096572900592506],[-48.79852294921875,-27.10375520238542],[-48.79405975341797,-27.109714634926277],[-48.80573272705078,-27.120563043579494],[-48.80281448364257,-27.126979916909125],[-48.811912536621094,-27.135382408575047],[-48.80195617675781,-27.145159058479877],[-48.799209594726555,-27.15462937248566],[-48.78152847290039,-27.1512690303697],[-48.772430419921875,-27.144700797119597],[-48.774147033691406,-27.13553517530609],[-48.771743774414055,-27.134313035612657],[-48.754234313964844,-27.135382408575047],[-48.74908447265625,-27.148825081707574],[-48.73586654663086,-27.14867233314115],[-48.72110366821288,-27.143173245679943],[-48.7162971496582,-27.144395288502064],[-48.69775772094726,-27.13828494076716],[-48.69089126586914,-27.13965979813258],[-48.68917465209961,-27.141492914980596],[-48.69071960449219,-27.149741568720767],[-48.682136535644524,-27.153560183685947],[-48.68436813354492,-27.15814234934277],[-48.67664337158203,-27.170055100224346],[-48.684539794921875,-27.167000669883514],[-48.69192123413086,-27.169596941000915],[-48.68814468383789,-27.168986059111283],[-48.6862564086914,-27.172345868134844],[-48.689517974853516,-27.179828715665778],[-48.68436813354492,-27.195403645911846],[-48.67509841918945,-27.197541211691814],[-48.673038482666016,-27.207617755506863],[-48.65947723388672,-27.215556209029675],[-48.60815048217773,-27.21051840986271],[-48.60334396362305,-27.21769338834485],[-48.60282897949219,-27.219983177827785],[-48.5980224609375,-27.218151350006842],[-48.58377456665039,-27.20975508708898],[-48.5789680480957,-27.211434390289334],[-48.57158660888672,-27.20257959745714],[-48.557510375976555,-27.197999256170373],[-48.53931427001953,-27.182271985783075],[-48.529014587402344,-27.18074494822952],[-48.51476669311523,-27.184867901658382],[-48.500003814697266,-27.201052837937677],[-48.50240707397461,-27.20685441286511],[-48.51768493652344,-27.216624803812127],[-48.51734161376953,-27.2202884795359],[-48.50360870361328,-27.21494557883787],[-48.49794387817383,-27.217388079524262],[-48.48918914794922,-27.20899175908668],[-48.48661422729492,-27.210976401017188],[-48.47820281982422,-27.205327711897123],[-48.4771728515625,-27.199526057508496],[-48.484554290771484,-27.198762659453006],[-48.49090576171874,-27.20196889615858],[-48.49880218505859,-27.1923499094294],[-48.49794387817383,-27.169138779897086],[-48.49571228027344,-27.165167971566113],[-48.486270904541016,-27.164098883655058],[-48.482322692871094,-27.15508759312418],[-48.47579956054687,-27.154934853120192],[-48.46464157104492,-27.144548042915236],[-48.47528457641601,-27.146686582775047],[-48.47837448120117,-27.13507687448669],[-48.48112106323242,-27.138132177793818],[-48.47785949707031,-27.14256221925779],[-48.48421096801758,-27.14867233314115],[-48.501548767089844,-27.145770070703662],[-48.51219177246094,-27.1321742590022],[-48.50343704223633,-27.114756983854218],[-48.50652694702148,-27.110631442539432],[-48.51579666137695,-27.121174190233102],[-48.52060317993164,-27.118576793896892],[-48.52712631225586,-27.123160393797992],[-48.5298728942871,-27.128202136755625],[-48.52609634399413,-27.126216022721977],[-48.52437973022461,-27.12911879287446],[-48.53708267211914,-27.143173245679943],[-48.532962799072266,-27.147144835991796],[-48.548583984375,-27.15692045688088],[-48.554420471191406,-27.157836877480516],[-48.55836868286133,-27.152643727998214],[-48.56609344482422,-27.155393072505557],[-48.5841178894043,-27.145159058479877],[-48.60282897949219,-27.124688218694857],[-48.61175537109374,-27.099934886447638],[-48.607635498046875,-27.092446689088135],[-48.603858947753906,-27.091682559163843],[-48.602142333984375,-27.09535033525511],[-48.59630584716796,-27.089237308374553],[-48.59407424926758,-27.090459940441768],[-48.59424591064453,-27.08541649715539],[-48.5870361328125,-27.080525668652474],[-48.59132766723633,-27.08006714253547],[-48.59373092651367,-27.072424764388305],[-48.59132766723633,-27.06141882448816],[-48.58686447143555,-27.060807351708327],[-48.585662841796875,-27.04506077959505],[-48.577938079833984,-27.038792111728934],[-48.5786247253418,-27.02503039375795],[-48.570556640625,-27.024265804424036],[-48.5734748840332,-27.017690121331814],[-48.56660842895508,-27.006831755795044],[-48.57656478881836,-27.00958468012514],[-48.58205795288086,-26.998878484601146],[-48.57999801635742,-26.993983884259237],[-48.586177825927734,-26.991536504210845],[-48.58840942382812,-26.997195989760403],[-48.597164154052734,-26.99276020089116],[-48.60197067260742,-26.995054596285808],[-48.59956741333008,-27.002855190521245],[-48.60849380493164,-27.004690545817528],[-48.62068176269531,-26.999490294665854],[-48.6335563659668,-26.978227943353065],[-48.63269805908203,-26.97195554720177],[-48.62531661987305,-26.971190596932992],[-48.626346588134766,-26.96461181009004],[-48.6229133605957,-26.9609397619421],[-48.626861572265625,-26.959409706547813],[-48.62651824951172,-26.9363033443123],[-48.62068176269531,-26.92513102049238],[-48.63080978393555,-26.928345090048257],[-48.640594482421875,-26.919620973927486],[-48.63973617553711,-26.912733037344378],[-48.64299774169921,-26.901099123366553],[-48.63767623901367,-26.86986532326465],[-48.62737655639648,-26.83464039609067],[-48.62051010131836,-26.826368606884948],[-48.60197067260742,-26.826674980219234],[-48.5951042175293,-26.80154961598032],[-48.59081268310547,-26.7963400021581],[-48.58463287353515,-26.79526740490638],[-48.587379455566406,-26.790057502583373],[-48.584976196289055,-26.7825486931609],[-48.59458923339844,-26.782855184902544],[-48.598880767822266,-26.77136117828696],[-48.605918884277344,-26.788371894733142],[-48.61965179443359,-26.788831608448096],[-48.631839752197266,-26.779943479945096],[-48.63922119140624,-26.765690373119504],[-48.64694595336913,-26.761705313631484],[-48.65192413330078,-26.77105465551654],[-48.6610221862793,-26.7696752928118],[-48.670806884765625,-26.762165135321876],[-48.67612838745117,-26.750362456215502],[-48.681278228759766,-26.718320435864783],[-48.718013763427734,-26.72874658135277],[-48.73157501220703,-26.72997312390254],[-48.74101638793945,-26.73733210150575],[-48.75612258911132,-26.740398201658984],[-48.762474060058594,-26.736412255341012],[-48.76161575317383,-26.728439943649306],[-48.77483367919922,-26.705746460781043],[-48.790283203125,-26.70543976111592],[-48.80058288574219,-26.712033621896047],[-48.80624771118164,-26.697772001085664],[-48.80350112915039,-26.682281551757416],[-48.799896240234375,-26.679367271566825],[-48.808135986328125,-26.65758450346946],[-48.81448745727538,-26.657277674217575],[-48.81448745727538,-26.64883954656574],[-48.819122314453125,-26.645464120868596],[-48.816890716552734,-26.63840609017644],[-48.832340240478516,-26.640861106845943],[-48.83354187011719,-26.629659664487818],[-48.84298324584961,-26.627511317159037],[-48.84418487548828,-26.63150107290847],[-48.85293960571289,-26.63288210974946],[-48.878173828125,-26.64162828873347],[-48.88435363769531,-26.65758450346946],[-48.89087677001953,-26.6568174287931],[-48.898258209228516,-26.657737917786093],[-48.90083312988281,-26.64745870265937],[-48.907527923583984,-26.649606674853263],[-48.91765594482422,-26.645157259039188],[-48.923835754394524,-26.66740260395726],[-48.933448791503906,-26.67353848772842],[-48.93739700317383,-26.69240426198563],[-48.96280288696288,-26.719853752458523],[-48.97499084472656,-26.725833489804646]
				]
			]
		}
	},
	{ "type": "Feature", "properties": {"id": "4202008", "name": "Balneário Camboriú", "description": "Balneário Camboriú"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.6266848953, -26.9647283332], [-48.6255800479, -26.9711854528], [-48.6328770922, -26.9717578653], [-48.6339992967, -26.9778189251], [-48.6207622768, -26.9992777095], [-48.6088174455, -27.0042143044], [-48.6000344829, -27.0029148557], [-48.6019307195, -26.9950742586], [-48.5967807642, -26.9928890696], [-48.5889135343, -26.9967331293], [-48.5865873598, -26.9915205671], [-48.5799197651, -26.9938141473], [-48.5821248152, -26.9992750785], [-48.5765405732, -27.0090520763], [-48.5667426624, -27.0073614542], [-48.5732466529, -27.0173865836], [-48.5708966115, -27.0236006018], [-48.5786227580, -27.0251107632], [-48.5780117623, -27.0391146211], [-48.5854032995, -27.0448755370], [-48.5872316176, -27.0606320176], [-48.6015439415, -27.0535706844], [-48.6107784672, -27.0485174385], [-48.6161660830, -27.0380545761], [-48.6148583312, -27.0311267072], [-48.6240080158, -27.0308146858], [-48.6269374491, -27.0125252733], [-48.6332494915, -27.0163640677], [-48.6443493276, -27.0122989667], [-48.6412665939, -27.0098326176], [-48.6461961779, -27.0101077529], [-48.6447940927, -27.0037471247], [-48.6444520757, -26.9998877408], [-48.6605900462, -26.9931719219], [-48.6694138190, -26.9833850998], [-48.6806183945, -26.9789614259], [-48.6831646114, -26.9728314146], [-48.6635468044, -26.9623838450], [-48.6597753012, -26.9678676256], [-48.6411226782, -26.9552167973], [-48.6267663405, -26.9593737129], [-48.6234092635, -26.9607764001], [-48.6266848953, -26.9647283332]]] }},
	{ "type": "Feature", "properties": {"id": "4212809", "name": "Balneário Piçarras", "description": "Balneário Piçarras"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.7620282487, -26.7370744229], [-48.7561712329, -26.7400914769], [-48.7409020929, -26.7368458188], [-48.7315207200, -26.7297926916], [-48.7181127217, -26.7286275507], [-48.7082824336, -26.7254391414], [-48.7061428303, -26.7247446959], [-48.6811535794, -26.7179623515], [-48.6759181779, -26.7503862483], [-48.6708972767, -26.7619394202], [-48.6611975283, -26.7700147216], [-48.6788544978, -26.7957439211], [-48.6847190108, -26.7993788996], [-48.7082001262, -26.8147296653], [-48.7461612510, -26.8068796768], [-48.7457836696, -26.7872292427], [-48.7485827593, -26.7831276241], [-48.7659941976, -26.7719855478], [-48.7719807056, -26.7630023305], [-48.7781732756, -26.7665997491], [-48.7889808074, -26.7568761905], [-48.7965834632, -26.7631795135], [-48.8031331180, -26.7569594266], [-48.8032234968, -26.7458430064], [-48.8170327016, -26.7403409834], [-48.8074771502, -26.7186216635], [-48.8005312368, -26.7121856122], [-48.7902531277, -26.7053500949], [-48.7748732612, -26.7058577199], [-48.7615840027, -26.7284577402], [-48.7620282487, -26.7370744229]]] }},
	{ "type": "Feature", "properties": {"id": "4202453", "name": "Bombinhas", "description": "Bombinhas"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.5014813645, -27.1454350851], [-48.4839889024, -27.1486768084], [-48.4781361695, -27.1429194581], [-48.4811399044, -27.1384164952], [-48.4786667164, -27.1348184697], [-48.4751172465, -27.1464965155], [-48.4651520485, -27.1446894263], [-48.4758686256, -27.1551526766], [-48.4826605475, -27.1549159320], [-48.4863646617, -27.1644708558], [-48.4955085612, -27.1654804226], [-48.4979787673, -27.1691393713], [-48.4986887905, -27.1922180205], [-48.4909734636, -27.2023500735], [-48.4845441435, -27.1988057195], [-48.4769992975, -27.1996886057], [-48.4785454461, -27.2056489624], [-48.4865800601, -27.2109603333], [-48.4890049875, -27.2089529523], [-48.4976819064, -27.2170934678], [-48.5032576803, -27.2149535338], [-48.5169969271, -27.2204917792], [-48.5174325176, -27.2164981297], [-48.5026027930, -27.2066844388], [-48.5001502161, -27.2009281625], [-48.5145629844, -27.1849509345], [-48.5296990093, -27.1808969683], [-48.5398850393, -27.1822341897], [-48.5577974580, -27.1982010954], [-48.5715610200, -27.2026053951], [-48.5791532088, -27.2114736812], [-48.5775421262, -27.2076148844], [-48.5842988979, -27.1993647961], [-48.5838657215, -27.1940239418], [-48.5739890959, -27.1846799386], [-48.5626495733, -27.1839963044], [-48.5540138270, -27.1732175942], [-48.5417011798, -27.1732517059], [-48.5291024302, -27.1631892814], [-48.5226386207, -27.1360062618], [-48.5067795497, -27.1108290002], [-48.5034932233, -27.1145683463], [-48.5122028506, -27.1320006925], [-48.5014813645, -27.1454350851]]] }},
	{ "type": "Feature", "properties": {"id": "4203204", "name": "Camboriú", "description": "Camboriú"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.6447940927, -27.0037471247], [-48.6461961779, -27.0101077529], [-48.6412665939, -27.0098326176], [-48.6443493276, -27.0122989667], [-48.6332494915, -27.0163640677], [-48.6269374491, -27.0125252733], [-48.6240080158, -27.0308146858], [-48.6148583312, -27.0311267072], [-48.6161660830, -27.0380545761], [-48.6107784672, -27.0485174385], [-48.6173490240, -27.0599866923], [-48.6137546494, -27.0689031316], [-48.6205777206, -27.0706118477], [-48.6440041198, -27.0851049073], [-48.6589700405, -27.0802904725], [-48.6678971076, -27.0926116226], [-48.6763725393, -27.0977435060], [-48.6728982775, -27.1124419841], [-48.6651940565, -27.1138716302], [-48.6601828605, -27.1242255969], [-48.6859257217, -27.1361069576], [-48.6888781080, -27.1420021642], [-48.6891331151, -27.1419262648], [-48.6911972077, -27.1399804513], [-48.6979905409, -27.1380309270], [-48.7162463294, -27.1446983313], [-48.7213606122, -27.1429583049], [-48.7361015178, -27.1485300412], [-48.7491838389, -27.1488440426], [-48.7543787747, -27.1354528303], [-48.7719600690, -27.1341918794], [-48.7744788323, -27.1357105201], [-48.7724944840, -27.1451356589], [-48.7813640858, -27.1513643285], [-48.7992874924, -27.1549141660], [-48.8017558741, -27.1448941084], [-48.8119212058, -27.1352541318], [-48.8026548893, -27.1267493422], [-48.8056874555, -27.1204285682], [-48.7936604880, -27.1095636072], [-48.7984816185, -27.1038042286], [-48.7902986520, -27.0964670409], [-48.7860300709, -27.0950226712], [-48.7843606133, -27.0842276885], [-48.7785027664, -27.0791232172], [-48.7773296182, -27.0774862701], [-48.7774136932, -27.0574347308], [-48.7673189174, -27.0550035311], [-48.7629760313, -27.0504256684], [-48.7650385336, -27.0456461458], [-48.7532536970, -27.0372348627], [-48.7544904634, -27.0296132988], [-48.7470948768, -27.0233912217], [-48.7206871250, -27.0148443736], [-48.7106894479, -27.0022371418], [-48.7124207619, -26.9945428939], [-48.6884747716, -26.9736836532], [-48.6879160002, -26.9731963531], [-48.6848557877, -26.9705301654], [-48.6831646114, -26.9728314146], [-48.6806183945, -26.9789614259], [-48.6694138190, -26.9833850998], [-48.6605900462, -26.9931719219], [-48.6444520757, -26.9998877408], [-48.6447940927, -27.0037471247]]] }},
	{ "type": "Feature", "properties": {"id": "4207106", "name": "Ilhota", "description": "Ilhota"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.8176158668, -26.8234087585], [-48.7738117558, -26.8315272288], [-48.7691386144, -26.8375660455], [-48.7621732640, -26.8465674509], [-48.7584554733, -26.8546540655], [-48.7619563743, -26.8599032760], [-48.7626752916, -26.8865688947], [-48.7660073999, -26.8904110601], [-48.7866385898, -26.9154418549], [-48.7764276201, -26.9221390159], [-48.7763233822, -26.9222360011], [-48.7585299765, -26.9353442772], [-48.7561405015, -26.9392547321], [-48.7658715789, -26.9475131334], [-48.7766103628, -26.9541049007], [-48.7856087998, -26.9539426694], [-48.7988937835, -26.9661510432], [-48.8018372007, -26.9676421512], [-48.8139194176, -26.9645359078], [-48.8292223791, -26.9654384831], [-48.8438246526, -26.9649120499], [-48.8506240138, -26.9302714762], [-48.8535263495, -26.9154735951], [-48.8511023679, -26.9101526430], [-48.8463623018, -26.9090816490], [-48.8462623906, -26.9058322785], [-48.8647985588, -26.9084036606], [-48.8654759269, -26.9013325009], [-48.8709323336, -26.8967051792], [-48.8826655713, -26.8923585236], [-48.8867606223, -26.8937399231], [-48.8907945390, -26.8913419162], [-48.9016758694, -26.8765903384], [-48.9106446804, -26.8727871292], [-48.9105415442, -26.8694528576], [-48.9139768763, -26.8637055739], [-48.9250052005, -26.8578403115], [-48.9358695949, -26.8420798221], [-48.9457170025, -26.8414712547], [-48.9555053743, -26.8349584432], [-48.9681866859, -26.8368612883], [-48.9838924943, -26.8244347983], [-48.9780582134, -26.8201583599], [-48.9877967228, -26.8140004546], [-48.9863821172, -26.8067936231], [-48.9794105432, -26.8045373935], [-48.9794990652, -26.7985416891], [-48.9699127400, -26.7893761878], [-48.9394448786, -26.7822519215], [-48.9091228798, -26.7645587726], [-48.8983810545, -26.7621855003], [-48.8646970643, -26.7871756178], [-48.8362806747, -26.8106858661], [-48.8196912784, -26.8230235712], [-48.8176158668, -26.8234087585]]] }},
	{ "type": "Feature", "properties": {"id": "4208203", "name": "Itajaí", "description": "Itajaí"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.7179486010, -26.8518664302], [-48.7259445644, -26.8663797260], [-48.7219296947, -26.8754703446], [-48.7130832822, -26.8760651715], [-48.7018212943, -26.8646556434], [-48.6934075613, -26.8630788744], [-48.6875097131, -26.8687723767], [-48.6913670491, -26.8789731361], [-48.6882739721, -26.8848526324], [-48.6658945203, -26.8819586680], [-48.6635435811, -26.8859534100], [-48.6698239257, -26.8924758279], [-48.6684823534, -26.8967696717], [-48.6531232570, -26.9022319013], [-48.6458836984, -26.9137416801], [-48.6399446110, -26.9130624166], [-48.6403627498, -26.9195927461], [-48.6305839236, -26.9282985300], [-48.6209117519, -26.9252596810], [-48.6267758034, -26.9364777573], [-48.6267663405, -26.9593737129], [-48.6411226782, -26.9552167973], [-48.6597753012, -26.9678676256], [-48.6635468044, -26.9623838450], [-48.6831646114, -26.9728314146], [-48.6848557877, -26.9705301654], [-48.6879160002, -26.9731963531], [-48.6884747716, -26.9736836532], [-48.7124207619, -26.9945428939], [-48.7106894479, -27.0022371418], [-48.7206871250, -27.0148443736], [-48.7470948768, -27.0233912217], [-48.7544904634, -27.0296132988], [-48.7532536970, -27.0372348627], [-48.7650385336, -27.0456461458], [-48.7629760313, -27.0504256684], [-48.7673189174, -27.0550035311], [-48.7774136932, -27.0574347308], [-48.7773296182, -27.0774862701], [-48.7785027664, -27.0791232172], [-48.7843606133, -27.0842276885], [-48.7860300709, -27.0950226712], [-48.7902986520, -27.0964670409], [-48.8078721616, -27.0893774623], [-48.8242648171, -27.0733901686], [-48.8367766125, -27.0733005704], [-48.8447079223, -27.0673712443], [-48.8560734733, -27.0461347293], [-48.8574975731, -27.0451251287], [-48.8634099614, -27.0426691359], [-48.8645336749, -27.0384909763], [-48.8650761289, -27.0330338569], [-48.8553269623, -27.0307755104], [-48.8551001215, -27.0247466244], [-48.8690813078, -27.0116042226], [-48.8664931587, -27.0033565352], [-48.8554641162, -26.9908807143], [-48.8496328160, -26.9767795868], [-48.8438246526, -26.9649120499], [-48.8292223791, -26.9654384831], [-48.8139194176, -26.9645359078], [-48.8018372007, -26.9676421512], [-48.7988937835, -26.9661510432], [-48.7856087998, -26.9539426694], [-48.7766103628, -26.9541049007], [-48.7658715789, -26.9475131334], [-48.7561405015, -26.9392547321], [-48.7585299765, -26.9353442772], [-48.7763233822, -26.9222360011], [-48.7764276201, -26.9221390159], [-48.7866385898, -26.9154418549], [-48.7660073999, -26.8904110601], [-48.7626752916, -26.8865688947], [-48.7619563743, -26.8599032760], [-48.7584554733, -26.8546540655], [-48.7446665247, -26.8566122199], [-48.7385591532, -26.8530367998], [-48.7337474240, -26.8396686598], [-48.7280900008, -26.8372268268], [-48.7217229374, -26.8402858578], [-48.7193699095, -26.8428998967], [-48.7179486010, -26.8518664302]]] }},
	{ "type": "Feature", "properties": {"id": "4208302", "name": "Itapema", "description": "Itapema"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.5867922341, -27.0802692201], [-48.5944136385, -27.0855680649], [-48.5941874857, -27.0906639945], [-48.5965424191, -27.0892303616], [-48.6025650549, -27.0954325283], [-48.6037820846, -27.0919506071], [-48.6078110958, -27.0926214510], [-48.6118660155, -27.0999442999], [-48.6021554703, -27.1246305653], [-48.5840546547, -27.1452189655], [-48.6025870553, -27.1457497523], [-48.6013655955, -27.1397926720], [-48.6095474374, -27.1366370154], [-48.6124664270, -27.1370133666], [-48.6163333587, -27.1427088385], [-48.6345312158, -27.1501718172], [-48.6437461328, -27.1456789745], [-48.6527460611, -27.1514050520], [-48.6795387602, -27.1475260072], [-48.6888781080, -27.1420021642], [-48.6859257217, -27.1361069576], [-48.6601828605, -27.1242255969], [-48.6651940565, -27.1138716302], [-48.6728982775, -27.1124419841], [-48.6763725393, -27.0977435060], [-48.6678971076, -27.0926116226], [-48.6589700405, -27.0802904725], [-48.6440041198, -27.0851049073], [-48.6205777206, -27.0706118477], [-48.6137546494, -27.0689031316], [-48.6173490240, -27.0599866923], [-48.6107784672, -27.0485174385], [-48.6015439415, -27.0535706844], [-48.5872316176, -27.0606320176], [-48.5917279995, -27.0613580233], [-48.5935760834, -27.0722312337], [-48.5912160845, -27.0796252591], [-48.5867922341, -27.0802692201]]] }},
	{ "type": "Feature", "properties": {"id": "4210001", "name": "Luiz Alves", "description": "Luiz Alves"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.8337504000, -26.6296343129], [-48.8322824167, -26.6408092325], [-48.8170912263, -26.6383941575], [-48.8192185998, -26.6456479655], [-48.8145674113, -26.6484913397], [-48.8148874021, -26.6573378373], [-48.8079352294, -26.6576807454], [-48.8001432454, -26.6793047833], [-48.8038615964, -26.6823574861], [-48.8063090579, -26.6973136343], [-48.8005312368, -26.7121856122], [-48.8074771502, -26.7186216635], [-48.8170327016, -26.7403409834], [-48.8224822752, -26.7434232361], [-48.8227587973, -26.7489865169], [-48.8228201346, -26.7491201980], [-48.8230140629, -26.7607081573], [-48.8106045133, -26.7677282527], [-48.8079684618, -26.7747372421], [-48.8108432058, -26.7891374676], [-48.8015975480, -26.7936349347], [-48.8019756650, -26.7980251697], [-48.7943645144, -26.8036010189], [-48.8066943041, -26.8135193161], [-48.8136765509, -26.8125960873], [-48.8147946755, -26.8171259211], [-48.8109010555, -26.8194324777], [-48.8196912784, -26.8230235712], [-48.8362806747, -26.8106858661], [-48.8646970643, -26.7871756178], [-48.8983810545, -26.7621855003], [-48.9091228798, -26.7645587726], [-48.9394448786, -26.7822519215], [-48.9699127400, -26.7893761878], [-48.9794990652, -26.7985416891], [-48.9794105432, -26.8045373935], [-48.9863821172, -26.8067936231], [-48.9956214264, -26.8064281077], [-49.0000697605, -26.8023229334], [-49.0008989127, -26.7922506257], [-48.9991989940, -26.7867780302], [-49.0026682181, -26.7840231326], [-49.0057116047, -26.7829649677], [-49.0139823988, -26.7892464854], [-49.0212697042, -26.7877534184], [-49.0303717467, -26.7776516816], [-49.0349382305, -26.7730846407], [-49.0262210183, -26.7640971352], [-49.0140575587, -26.7628946402], [-49.0128902766, -26.7456526260], [-48.9982480288, -26.7478207380], [-48.9936147879, -26.7442097502], [-48.9886970388, -26.7369147172], [-48.9781953194, -26.7346424748], [-48.9749438645, -26.7260615521], [-48.9630295147, -26.7202023691], [-48.9527709253, -26.7084698851], [-48.9374486924, -26.6926121343], [-48.9332793778, -26.6731966122], [-48.9241331760, -26.6679178141], [-48.9175722482, -26.6451430787], [-48.9076993009, -26.6498257704], [-48.9010007334, -26.6480844354], [-48.8986661161, -26.6576152952], [-48.8905457595, -26.6567751429], [-48.8847199888, -26.6576565129], [-48.8779448002, -26.6416727970], [-48.8564649366, -26.6343718926], [-48.8532757792, -26.6330521490], [-48.8443689696, -26.6317967562], [-48.8426673950, -26.6273532466], [-48.8337504000, -26.6296343129]]] }},
	{ "type": "Feature", "properties": {"id": "4211306", "name": "Navegantes", "description": "Navegantes"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.8031331180, -26.7569594266], [-48.7965834632, -26.7631795135], [-48.7889808074, -26.7568761905], [-48.7781732756, -26.7665997491], [-48.7719807056, -26.7630023305], [-48.7659941976, -26.7719855478], [-48.7485827593, -26.7831276241], [-48.7457836696, -26.7872292427], [-48.7461612510, -26.8068796768], [-48.7082001262, -26.8147296653], [-48.7088504268, -26.8332112646], [-48.7089085230, -26.8348599464], [-48.7106704615, -26.8423840351], [-48.7002583717, -26.8463929949], [-48.6908155959, -26.8387067456], [-48.6786732947, -26.8371049804], [-48.6713916840, -26.8413821744], [-48.6635473992, -26.8394732825], [-48.6561204245, -26.8294735714], [-48.6448630100, -26.8309989841], [-48.6403418935, -26.8246441473], [-48.6373130581, -26.8266964360], [-48.6283491830, -26.8192822129], [-48.6264660282, -26.8217178728], [-48.6220189995, -26.8195250118], [-48.6204630077, -26.8261253654], [-48.6277152277, -26.8351747912], [-48.6375939227, -26.8689526892], [-48.6427873738, -26.9012013492], [-48.6399446110, -26.9130624166], [-48.6458836984, -26.9137416801], [-48.6531232570, -26.9022319013], [-48.6684823534, -26.8967696717], [-48.6698239257, -26.8924758279], [-48.6635435811, -26.8859534100], [-48.6658945203, -26.8819586680], [-48.6882739721, -26.8848526324], [-48.6913670491, -26.8789731361], [-48.6875097131, -26.8687723767], [-48.6934075613, -26.8630788744], [-48.7018212943, -26.8646556434], [-48.7130832822, -26.8760651715], [-48.7219296947, -26.8754703446], [-48.7259445644, -26.8663797260], [-48.7179486010, -26.8518664302], [-48.7193699095, -26.8428998967], [-48.7217229374, -26.8402858578], [-48.7280900008, -26.8372268268], [-48.7337474240, -26.8396686598], [-48.7385591532, -26.8530367998], [-48.7446665247, -26.8566122199], [-48.7584554733, -26.8546540655], [-48.7621732640, -26.8465674509], [-48.7691386144, -26.8375660455], [-48.7738117558, -26.8315272288], [-48.8176158668, -26.8234087585], [-48.8196912784, -26.8230235712], [-48.8109010555, -26.8194324777], [-48.8147946755, -26.8171259211], [-48.8136765509, -26.8125960873], [-48.8066943041, -26.8135193161], [-48.7943645144, -26.8036010189], [-48.8019756650, -26.7980251697], [-48.8015975480, -26.7936349347], [-48.8108432058, -26.7891374676], [-48.8079684618, -26.7747372421], [-48.8106045133, -26.7677282527], [-48.8230140629, -26.7607081573], [-48.8228201346, -26.7491201980], [-48.8227587973, -26.7489865169], [-48.8224822752, -26.7434232361], [-48.8170327016, -26.7403409834], [-48.8032234968, -26.7458430064], [-48.8031331180, -26.7569594266]]] }},
	{ "type": "Feature", "properties": {"id": "4212502", "name": "Penha", "description": "Penha"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.6401448508, -26.7651986118], [-48.6323285865, -26.7796735281], [-48.6197623024, -26.7886291626], [-48.6056871265, -26.7884977850], [-48.5985004081, -26.7714723756], [-48.5950921904, -26.7827591427], [-48.5848844530, -26.7827998502], [-48.5874093969, -26.7900844258], [-48.5842744750, -26.7954430764], [-48.5909973530, -26.7962942223], [-48.5954213731, -26.8017796827], [-48.6021455747, -26.8266018806], [-48.6204630077, -26.8261253654], [-48.6220189995, -26.8195250118], [-48.6264660282, -26.8217178728], [-48.6283491830, -26.8192822129], [-48.6373130581, -26.8266964360], [-48.6403418935, -26.8246441473], [-48.6448630100, -26.8309989841], [-48.6561204245, -26.8294735714], [-48.6635473992, -26.8394732825], [-48.6713916840, -26.8413821744], [-48.6786732947, -26.8371049804], [-48.6908155959, -26.8387067456], [-48.7002583717, -26.8463929949], [-48.7106704615, -26.8423840351], [-48.7089085230, -26.8348599464], [-48.7088504268, -26.8332112646], [-48.7082001262, -26.8147296653], [-48.6847190108, -26.7993788996], [-48.6788544978, -26.7957439211], [-48.6611975283, -26.7700147216], [-48.6519117407, -26.7709393667], [-48.6469338821, -26.7613145376], [-48.6401448508, -26.7651986118]]] }},
	{ "type": "Feature", "properties": {"id": "4213500", "name": "Porto Belo", "description": "Porto Belo"}, "geometry": { "type": "Polygon", "coordinates": [[[-48.5067795497, -27.1108290002], [-48.5226386207, -27.1360062618], [-48.5291024302, -27.1631892814], [-48.5417011798, -27.1732517059], [-48.5540138270, -27.1732175942], [-48.5626495733, -27.1839963044], [-48.5739890959, -27.1846799386], [-48.5838657215, -27.1940239418], [-48.5842988979, -27.1993647961], [-48.5775421262, -27.2076148844], [-48.5791532088, -27.2114736812], [-48.5831115341, -27.2096028362], [-48.5978817345, -27.2184740273], [-48.6026455066, -27.2199217555], [-48.6034537712, -27.2176025598], [-48.6079871931, -27.2104287867], [-48.6213584299, -27.2114226879], [-48.6371106967, -27.2124270054], [-48.6602222676, -27.2156537885], [-48.6729619880, -27.2073451498], [-48.6752765804, -27.1979097281], [-48.6843010050, -27.1952454719], [-48.6895312478, -27.1798758957], [-48.6863245026, -27.1723470265], [-48.6881301845, -27.1687964036], [-48.6920422644, -27.1698469615], [-48.6851631546, -27.1669226567], [-48.6768529727, -27.1693999943], [-48.6844247749, -27.1582915510], [-48.6825317846, -27.1536470274], [-48.6905443328, -27.1496870536], [-48.6891331151, -27.1419262648], [-48.6888781080, -27.1420021642], [-48.6795387602, -27.1475260072], [-48.6527460611, -27.1514050520], [-48.6437461328, -27.1456789745], [-48.6345312158, -27.1501718172], [-48.6163333587, -27.1427088385], [-48.6124664270, -27.1370133666], [-48.6095474374, -27.1366370154], [-48.6013655955, -27.1397926720], [-48.6025870553, -27.1457497523], [-48.5840546547, -27.1452189655], [-48.5660359376, -27.1554329551], [-48.5585484530, -27.1526801466], [-48.5542656382, -27.1577494351], [-48.5488315658, -27.1570854383], [-48.5330275484, -27.1475023976], [-48.5373895471, -27.1428905249], [-48.5247631746, -27.1293897149], [-48.5260942158, -27.1262606250], [-48.5300325103, -27.1285386686], [-48.5276140101, -27.1236887863], [-48.5210062025, -27.1183214097], [-48.5157574002, -27.1215680076], [-48.5067795497, -27.1108290002]]] }}
]}

$(document).ready(() => {
	var id = 8; /* FOZ DO RIO ITAJAI */
  
	fetch(base_url + '/api/rt-por-regiao/' + id).then(response => {
		return response.json()
	}).then(dados => {
		/* R(t) */
		var rt = [
			{
			x: dados.datas,
			y: dados.rt,
			type: 'scatter'
			}
		];
		var rt_layout = {
			title: 'Taxa de Transmissibilidade R(t)',
		};
		var config = {responsive: true}
		Plotly.newPlot('rt-graph', rt, rt_layout, config);
	}).catch(err => console.error(err));
  
	fetch(base_url + '/api/casos-por-regiao/' + id).then(response => {
		return response.json()
	}).then(dados => {
	  var d = new Date(dados.maxData); 
	  var datestring = ("0" + d.getDate()).slice(-2) + "/" + ("0"+(d.getMonth()+1)).slice(-2) + "/" + d.getFullYear();
	  $("#dataAtualizacao").text(datestring);
	  
			/* Casos / Casos média móvel */
			var casos= {
			  type: "scatter",
			  mode: "lines",
			  x: dados.datas,                
			  y: dados.casos,
			  line: {color: '#17BECF'},
			  name: "Casos"
		  }
	
		  var casos_media_movel = {
			  type: "scatter",
			  mode: "lines",
			  x: dados.datas,
			  y: dados.casos_media_movel,
			  line: {color: '#FF0000'},
			  name: "Casos Média Móvel"
		  }
		  dados_casos = [casos, casos_media_movel]
	
		  var mm_layout = {
			  title: 'Casos X Casos Média Móvel',
		  };
  
		  var config = {responsive: true}
		  Plotly.newPlot('casos-graph', dados_casos, mm_layout, config);
  
		/* Óbitos / Óbitos média móvel */
		var obitos = {
			type: "scatter",
			mode: "lines",
			x: dados.datas,                
			y: dados.obitos,
			line: {color: '#17BECF'},
			name: "Óbitos"
		}
  
		var obitos_media_movel = {
			type: "scatter",
			mode: "lines",
			x: dados.datas,
			y: dados.obitos_media_movel,
			line: {color: '#FF0000'},
			name: "Óbitos Média Móvel"
		}
		dados_obitos = [obitos, obitos_media_movel]
  
		var mm_layout = {
			title: 'Óbitos X Óbitos Média Móvel',
		};
		
		var casos_media_movel = {
		  type: "scatter",
		  mode: "lines",
		  x: dados.datas,
		  y: dados.casos_media_movel,
		  line: {color: '#FF0000'},
		  name: "Casos Média Móvel"
	  }
	  
	  var config = {responsive: true}
	  Plotly.newPlot('obitos-graph', dados_obitos, mm_layout, config);
  
	  // Incidência
	  var dados_incidencia = [{
		  type: "scatter",
		  mode: "lines",
		  x: dados.datas,
		  y: dados.incidencia,
		  line: {color: '#FF0000'},
		  name: "Casos Média Móvel"
	  }];
  
	  var mm_layout = {
		  title: "Incidência acumulada por 100 mil habitantes"
	  };
	  
	  var config = {responsive: true}
	  Plotly.newPlot('incidencia-graph', dados_incidencia, mm_layout, config);
  
		  
	  // Letalidade
	  var dados_letalidade = [{
		  type: "scatter",
		  mode: "lines",
		  x: dados.datas,
		  y: dados.letalidade,
		  line: {color: '#FF0000'},
		  name: "Casos Média Móvel"
	  }];
  
	  var mm_layout = {
		  title: "Óbitos / número de casos (em %)",
	  };
	  
	  var config = {responsive: true}
	  Plotly.newPlot('letalidade-graph', dados_letalidade, mm_layout, config);
  
	}).catch(err => console.error(err));
  
	fetch(base_url + "/api/leitos-por-regiao/"+ id)
	  .then((response) => {
		return response.json();
	  })
	  .then((dados) => {
		   /* Ocupacao de Leitos */
		var ocupacao_leitos = [dados.leitos_ocupados, dados.leitos_disponiveis];
  
		var ol_layout = {
		  title: "Leitos Disponíveis / Ocupados (UTI - Covid Adulto)",
		  barmode: "stack",
		  bargap: 0.5, 
		  bargroupgap: 0.2, 
		};
  
		var config = { responsive: true };
  
		Plotly.newPlot("leitos-graph", ocupacao_leitos, ol_layout, config);
	  })
	  .catch((err) => console.error(err));
  
   });